<!doctype html>
<html>

<head>
    <title>Line Chart</title>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/moment.js/2.13.0/moment.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.bundle.js"></script>
    <style>
        canvas {
            -moz-user-select: none;
            -webkit-user-select: none;
            -ms-user-select: none;
        }
    </style>
</head>

<body>
<div style="width:95%;">
    ${STATISTICS}
</div>
<div style="width:95%;">
    <canvas id="canvas_response_times"></canvas>
</div>
<div style="width:95%;">
    <canvas id="canvas_throughput"></canvas>
</div>
<div style="width:95%;">
    ${RAW_DATA}
</div>
<script>

    var timeFormat = 'YYYY-MM-DD HH:mm:ss';
    var timeFormatReduced = 'YYYY-MM-DD HH:mm';

    var config_response_times = {
        type:    'line',
        data:    {
            datasets: ${RESPONSE_TIMES}
        },
        options: {
            responsive: true,
            title:      {
                display: true,
                text:    "Chart.js Time Scale"
            },
            scales:     {
                xAxes: [{
                    type:       "time",
                    ticks: {
                      autoSkip: true,
                      maxTicksLimit: 14
                    },
                    time:       {
                        format: timeFormat,
                        tooltipFormat: 'll',
                        displayFormat: timeFormatReduced
                    },
                    scaleLabel: {
                        display:     true,
                        labelString: 'Date'
                    }
                }],
                yAxes: [{
                    scaleLabel: {
                        display:     true,
                        labelString: 'value'
                    }
                }]
            }
        }
    };

    var config_throughput = {
        type:    'line',
        data:    {
            datasets: ${THROUGHPUT}
        },
        options: {
            responsive: true,
            title:      {
                display: true,
                text:    "Chart.js Time Scale"
            },
            scales:     {
                xAxes: [{
                    type:       "time",
                    ticks: {
                      autoSkip: true,
                      maxTicksLimit: 14
                    },
                    time:       {
                        format: timeFormat,
                        tooltipFormat: 'll',
                        displayFormat: timeFormatReduced
                    },
                    scaleLabel: {
                        display:     true,
                        labelString: 'Date'
                    }
                }],
                yAxes: [{
                    scaleLabel: {
                        display:     true,
                        labelString: 'value'
                    }
                }]
            }
        }
    };

    window.onload = function () {
        var ctx_response_times = document.getElementById("canvas_response_times").getContext("2d");
        window.myLine = new Chart(ctx_response_times, config_response_times);

        var ctx_throughput = document.getElementById("canvas_throughput").getContext("2d");
        window.myLine = new Chart(ctx_throughput, config_throughput);
    };

</script>

</body>

</html>
